<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oscar JOSEPH--GENESLAY - Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Couleurs de base */
            --text-main: #2c3e50;
            --text-light: #636e72;
            --white: #ffffff;
            --bg-global: #fdfdfd;
            
            /* THÈMES PAR SECTION */
            
            /* 1. Portfolio (Nouveau : Vert Émeraude / Teal - Pro & Tech) */
            --theme-port-bg: #e0f2f1;      /* Fond très clair */
            --theme-port-accent: #009688;  /* Couleur principale */
            --theme-port-dark: #004d40;    /* Couleur foncée (Textes) */

            /* 2. Formation (Bleu Ciel - Académique) */
            --theme-form-bg: #e3f2fd;
            --theme-form-accent: #2196f3;
            --theme-form-dark: #0d47a1;

            /* 3. Expérience (Rouge - Dynamique/Cnam) */
            --theme-exp-bg: #ffebee;
            --theme-exp-accent: #ef5350;
            --theme-exp-dark: #b71c1c;

            /* Ombres et Visibilité des cartes */
            --shadow-card: 0 10px 20px rgba(0,0,0,0.08), 0 6px 6px rgba(0,0,0,0.05);
            --shadow-hover: 0 15px 30px rgba(0,0,0,0.15), 0 10px 10px rgba(0,0,0,0.08);
        }

        * { box-sizing: border-box; }

        body {
            font-family: 'Open Sans', sans-serif;
            background-color: var(--bg-global);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            overflow-x: hidden;
            transition: background-color 0.6s ease;
        }

        /* --- ANIMATION ARCS DE CERCLE (Version Enrichie) --- */
        .arcs-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; overflow: hidden; pointer-events: none;
        }

        .arc {
            position: absolute;
            border-radius: 50%;
            border: 2px solid rgba(0,0,0,0.04);
            transition: all 1s ease;
        }

        /* Gauche */
        .arc-1 { width: 50vh; height: 50vh; left: -25vh; top: 20%; border-right: 4px solid rgba(0,0,0,0.06); animation: rotate 40s linear infinite; }
        .arc-2 { width: 70vh; height: 70vh; left: -35vh; top: 15%; border-right: 2px solid rgba(0,0,0,0.04); animation: rotateRev 60s linear infinite; }
        
        /* Droit */
        .arc-3 { width: 60vh; height: 60vh; right: -30vh; bottom: 10%; border-left: 4px solid rgba(0,0,0,0.06); animation: rotate 50s linear infinite; }
        .arc-4 { width: 80vh; height: 80vh; right: -40vh; bottom: 5%; border-left: 2px solid rgba(0,0,0,0.04); animation: rotateRev 70s linear infinite; }
        
        /* Nouveaux Cercles (Centre / Flottants) */
        .arc-5 { width: 30vh; height: 30vh; left: 20%; top: 10%; border: 2px dashed rgba(0,0,0,0.03); animation: rotate 100s linear infinite; }
        .arc-6 { width: 40vh; height: 40vh; right: 20%; top: 50%; border: 1px solid rgba(0,0,0,0.04); animation: rotateRev 80s linear infinite; }
        .arc-7 { width: 15vh; height: 15vh; left: 50%; bottom: 10%; border: 3px solid rgba(0,0,0,0.02); animation: rotate 30s linear infinite; }

        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @keyframes rotateRev { from { transform: rotate(360deg); } to { transform: rotate(0deg); } }

        /* --- HEADER --- */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            padding: 50px 20px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.03);
            border-bottom: 1px solid rgba(0,0,0,0.05);
            position: relative; z-index: 10;
        }

        .profile-img {
            width: 160px; height: 160px;
            border-radius: 50%; object-fit: cover;
            border: 4px solid white;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            margin-bottom: 15px;
            transition: transform 0.3s;
        }
        .profile-img:hover { transform: scale(1.05); }

        h1 { margin: 0; color: var(--text-main); font-family: 'Montserrat', sans-serif; font-weight: 700; font-size: 2.2rem; }
        h2 { margin: 10px 0 20px; font-weight: 500; font-size: 1.1rem; text-transform: uppercase; letter-spacing: 2px; color: var(--text-light); }
        .bio { max-width: 700px; margin: 0 auto; color: var(--text-light); }

        /* --- NAVIGATION --- */
        nav {
            display: flex; justify-content: center; gap: 30px;
            margin: 40px 0; padding: 0 20px; flex-wrap: wrap;
        }

        .nav-btn {
            padding: 12px 35px;
            background: white;
            border: 2px solid transparent;
            color: var(--text-light);
            font-size: 1rem; font-weight: 600;
            cursor: pointer;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            font-family: 'Montserrat', sans-serif;
        }

        /* Couleurs Active Navigation */
        .btn-port:hover, .btn-port.active {
            background: var(--theme-port-accent); color: white;
            box-shadow: 0 8px 25px rgba(0, 150, 136, 0.4);
        }
        .btn-form:hover, .btn-form.active {
            background: var(--theme-form-accent); color: white;
            box-shadow: 0 8px 25px rgba(33, 150, 243, 0.4);
        }
        .btn-exp:hover, .btn-exp.active {
            background: var(--theme-exp-accent); color: white;
            box-shadow: 0 8px 25px rgba(239, 83, 80, 0.4);
        }

        /* --- SECTIONS --- */
        .section-content {
            display: none;
            max-width: 1200px; margin: 0 auto 80px; padding: 0 20px;
            animation: fadeIn 0.6s ease;
        }
        .section-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- BARRE RECHERCHE --- */
        .search-wrapper { max-width: 500px; margin: 0 auto 40px; }
        .search-input {
            width: 100%; padding: 15px 25px;
            border-radius: 50px; border: 2px solid transparent;
            background: white; font-size: 1rem;
            box-shadow: var(--shadow-card); transition: all 0.3s;
            outline: none; font-family: 'Open Sans', sans-serif;
        }
        .search-input:focus { border-color: var(--theme-port-accent); transform: scale(1.02); }

        /* --- FILTRES --- */
        .filters { text-align: center; margin-bottom: 40px; }
        .filter-tag {
            display: inline-block; margin: 5px; padding: 8px 20px;
            border-radius: 30px; background: white; color: var(--text-light);
            cursor: pointer; font-size: 0.9rem; font-weight: 600;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); transition: all 0.2s;
            border: 1px solid transparent;
        }
        .filter-tag:hover, .filter-tag.active {
            background: var(--theme-port-accent); color: white; transform: scale(1.05);
        }

        /* --- GRILLE PROJETS (Cartes Améliorées) --- */
        .projects-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(340px, 1fr)); gap: 35px;
        }

        .card {
            background: white; border-radius: 16px; overflow: hidden;
            /* Visibilité renforcée */
            box-shadow: var(--shadow-card);
            border: 1px solid rgba(0,0,0,0.06); 
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            cursor: pointer; display: flex; flex-direction: column;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-hover);
            border-color: var(--theme-port-accent);
        }

        .card-img-wrapper { height: 210px; overflow: hidden; position: relative; border-bottom: 1px solid #f0f0f0; }
        .card-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s; }
        .card:hover .card-img { transform: scale(1.08); }

        .card-body { padding: 25px; flex-grow: 1; display: flex; flex-direction: column; }
        
        .card-title { font-size: 1.25rem; margin: 12px 0; color: var(--text-main); font-weight: 700; }
        .card-summary { color: #666; font-size: 0.95rem; line-height: 1.5; flex-grow: 1; margin-bottom: 20px; }
        
        /* TAGS COLORÉS */
        .tags-container { margin-bottom: 8px; }
        .tag { font-size: 0.7rem; font-weight: 700; padding: 4px 10px; border-radius: 6px; margin-right: 6px; text-transform: uppercase; display: inline-block; margin-bottom: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        
        /* Couleurs Spécifiques des Outils */
        .tag-Python { background: #e3f2fd; color: #1565c0; border: 1px solid #bbdefb; }
        .tag-R { background: #e8f5e9; color: #2e7d32; border: 1px solid #c8e6c9; }
        .tag-SQL { background: #fff3e0; color: #ef6c00; border: 1px solid #ffe0b2; }
        .tag-PowerBI { background: #fffde7; color: #f9a825; border: 1px solid #fff9c4; }
        .tag-SAS { background: #f3e5f5; color: #8e24aa; border: 1px solid #e1bee7; }
        .tag-NoSQL { background: #e0f2f1; color: #00695c; border: 1px solid #b2dfdb; }

        .card-footer {
            border-top: 1px solid #f0f0f0; padding-top: 15px;
            display: flex; justify-content: space-between; align-items: center;
            font-size: 0.85rem; color: #999; font-weight: 600;
        }
        .view-btn { color: var(--theme-port-accent); transition: color 0.2s; }
        .card:hover .view-btn { color: var(--theme-port-dark); text-decoration: underline; }


        /* --- TIMELINE HORIZONTALE (Formation & Expérience) --- */
        .timeline-horizontal {
            display: flex; justify-content: space-between; position: relative;
            margin-top: 50px; padding: 20px 0;
        }
        .timeline-horizontal::before {
            content: ''; position: absolute; top: 40px; left: 0; right: 0; height: 4px;
            background: #e0e0e0; z-index: -1; border-radius: 2px;
        }

        .timeline-col {
            flex: 1; text-align: center; padding: 0 15px; position: relative;
        }

        .timeline-dot {
            width: 24px; height: 24px; border-radius: 50%;
            margin: 0 auto 20px;
            border: 4px solid white;
            box-shadow: 0 0 0 3px rgba(0,0,0,0.05);
            background: #ccc;
            position: relative; top: 8px;
            transition: all 0.3s;
        }

        .timeline-card {
            background: white; padding: 25px; border-radius: 12px;
            box-shadow: var(--shadow-card); position: relative; margin-top: 30px;
            transition: transform 0.3s; border-top: 4px solid transparent;
            text-align: left;
        }
        .timeline-card:hover { transform: translateY(-8px); box-shadow: var(--shadow-hover); }

        /* Flèche carte */
        .timeline-card::before {
            content: ''; position: absolute; top: -10px; left: 50%; transform: translateX(-50%);
            border-width: 0 10px 10px 10px; border-style: solid;
            border-color: transparent transparent white transparent;
        }

        /* Thème Formation (Bleu) */
        .theme-blue .timeline-dot { background: var(--theme-form-accent); }
        .theme-blue .timeline-card { border-top-color: var(--theme-form-accent); }
        .theme-blue h3 { color: var(--theme-form-dark); margin: 0 0 5px; font-size: 1.15rem; }
        .theme-blue .t-date { background: var(--theme-form-bg); color: var(--theme-form-dark); padding: 4px 12px; border-radius: 15px; font-weight: bold; font-size: 0.8rem; display: inline-block; margin-bottom: 12px; }

        /* Thème Expérience (Rouge) */
        .theme-red .timeline-dot { background: var(--theme-exp-accent); }
        .theme-red .timeline-card { border-top-color: var(--theme-exp-accent); }
        .theme-red h3 { color: var(--theme-exp-dark); margin: 0 0 5px; font-size: 1.15rem; }
        .theme-red .t-date { background: var(--theme-exp-bg); color: var(--theme-exp-dark); padding: 4px 12px; border-radius: 15px; font-weight: bold; font-size: 0.8rem; display: inline-block; margin-bottom: 12px; }
        
        .t-place { display: block; font-weight: 600; font-size: 0.95rem; margin-bottom: 12px; color: #555; border-bottom: 1px solid #eee; padding-bottom: 8px;}
        .t-desc { font-size: 0.9rem; color: #666; }
        .t-desc ul { padding-left: 20px; margin: 0; }
        .t-desc li { margin-bottom: 6px; }

        /* --- MODALE --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(5px);
            display: none; justify-content: center; align-items: center; z-index: 1000;
        }
        .modal-overlay.open { display: flex; animation: fadeIn 0.3s; }
        
        .modal-box {
            background: white; width: 90%; max-width: 900px; max-height: 90vh;
            border-radius: 12px; overflow-y: auto; position: relative;
            box-shadow: 0 25px 60px rgba(0,0,0,0.5);
        }
        .modal-header { padding: 25px 30px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; background: white; position: sticky; top: 0; z-index: 5; }
        .modal-title { margin: 0; font-size: 1.4rem; color: var(--text-main); font-weight: 700; }
        .modal-body { padding: 30px; }
        .modal-close { font-size: 2rem; cursor: pointer; border: none; background: none; color: #bbb; transition: color 0.2s; }
        .modal-close:hover { color: var(--theme-port-accent); }
        
        /* Responsive */
        @media (max-width: 768px) {
            .timeline-horizontal { flex-direction: column; }
            .timeline-horizontal::before { left: 15px; width: 4px; height: 100%; top: 0; }
            .timeline-col { text-align: left; padding-left: 45px; margin-bottom: 40px; }
            .timeline-dot { position: absolute; left: 5px; top: 0; margin: 0; }
            .timeline-card::before { left: -10px; top: 15px; transform: rotate(-90deg); border-color: transparent white transparent transparent; }
            .profile-img { width: 130px; height: 130px; }
            h1 { font-size: 1.8rem; }
        }
    </style>
</head>
<body>

<div class="arcs-container">
    <div class="arc arc-1"></div>
    <div class="arc arc-2"></div>
    <div class="arc arc-3"></div>
    <div class="arc arc-4"></div>
    <div class="arc arc-5"></div>
    <div class="arc arc-6"></div>
    <div class="arc arc-7"></div>
</div>

<header>
    <div class="profile-container">
        <img src="images\moi_copie.png" alt="Oscar JG" class="profile-img" onerror="this.src='https://via.placeholder.com/160?text=O'">
    </div>
    <h1>Oscar JOSEPH--GENESLAY</h1>
    <h2>Alternant Web Analyst (Wonderbox)</h2>
    <h2>Étudiant au Master Mégadonnées et Analyse Sociale (Cnam)</h2>
    <p class="bio">
        Je suis passionné par l'analyse de données et les statistiques. Je réalise mon master en alternance pour me permettre d'acquérir de l'expérience professionnelle.
    </p>
</header>

<nav>
    <button class="nav-btn btn-port active" onclick="switchTab('portfolio', this, 'port')">Mon Portfolio</button>
    <button class="nav-btn btn-form" onclick="switchTab('formation', this, 'form')">Formation</button>
    <button class="nav-btn btn-exp" onclick="switchTab('experience', this, 'exp')">Expérience Pro</button>
</nav>

<section id="portfolio" class="section-content active">
    
    <div class="search-wrapper">
        <input type="text" id="searchBar" class="search-input" placeholder="Rechercher un projet (mot clé, langage)..." onkeyup="filterProjects()">
    </div>

    <div class="filters">
        <span class="filter-tag active" onclick="setTagFilter('all', this)">Tout voir</span>
        <span class="filter-tag" onclick="setTagFilter('Python', this)">Python</span>
        <span class="filter-tag" onclick="setTagFilter('R', this)">R</span>
        <span class="filter-tag" onclick="setTagFilter('SQL', this)">SQL</span>
        <span class="filter-tag" onclick="setTagFilter('PowerBI', this)">PowerBI</span>
    </div>

    <div class="projects-grid" id="grid">
        </div>
</section>

<section id="formation" class="section-content theme-blue">
    <div class="timeline-horizontal">
        
        <div class="timeline-col">
            <div class="timeline-dot"></div>
            <div class="timeline-card">
                <span class="t-date">2022</span>
                <h3>Baccalauréat Général</h3>
                <span class="t-place">Lycée Général</span>
                <div class="t-desc">Spécialités NSI et Maths. Mention Bien.</div>
            </div>
        </div>

        <div class="timeline-col">
            <div class="timeline-dot"></div>
            <div class="timeline-card">
                <span class="t-date">2022 - 2025</span>
                <h3>BUT Science des Données</h3>
                <span class="t-place">IUT Grand Ouest Normandie</span>
                <div class="t-desc">Cursus complet : Statistique décisionnelle, Programmation, Dataviz.</div>
            </div>
        </div>

        <div class="timeline-col">
            <div class="timeline-dot"></div>
            <div class="timeline-card">
                <span class="t-date">Actuellement</span>
                <h3>Master Mégadonnées</h3>
                <span class="t-place">CFA Cnam, Saint-Denis</span>
                <div class="t-desc">Spécialisation Big Data & Analyse Sociale.</div>
            </div>
        </div>

    </div>
</section>

<section id="experience" class="section-content theme-red">
    <div class="timeline-horizontal">
        
        <div class="timeline-col">
            <div class="timeline-dot"></div>
            <div class="timeline-card">
                <span class="t-date">Avril - Juin 2024</span>
                <h3>Consultant BI (Stage)</h3>
                <span class="t-place">KPMG Nord Normandie</span>
                <div class="t-desc">
                    <ul>
                        <li>Tableaux de bord financiers (PowerBI).</li>
                        <li>Audit de données RSE.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="timeline-col">
            <div class="timeline-dot"></div>
            <div class="timeline-card">
                <span class="t-date">Sept 2024 - Août 2025</span>
                <h3>Chargé d'études stats</h3>
                <span class="t-place">Observatoire UNICAEN</span>
                <div class="t-desc">
                    <ul>
                        <li>Automatisation R.</li>
                        <li>Enquêtes sociologiques.</li>
                        <li>Dataviz SphinxIQ3.</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="timeline-col">
            <div class="timeline-dot"></div>
            <div class="timeline-card">
                <span class="t-date">Sept 2025 - Actuel</span>
                <h3>Web Analyst (Alternance)</h3>
                <span class="t-place">Wonderbox</span>
                <div class="t-desc">
                    <ul>
                        <li>Tracking GA4 & GTM.</li>
                        <li>A/B Testing (AB Tasty).</li>
                        <li>Conformité RGPD.</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>
</section>

<div id="modalOverlay" class="modal-overlay" onclick="closeModal(event)">
    <div class="modal-box">
        <div class="modal-header">
            <h3 id="mTitle" class="modal-title">Titre</h3>
            <button class="modal-close" onclick="closeModal(event)">&times;</button>
        </div>
        <div class="modal-body">
            <div style="text-align:center; background:#f5f5f5; padding:10px; border-radius:8px; margin-bottom:20px;">
                <img id="mImg" src="" style="max-height:350px; max-width:100%; border-radius:4px;">
            </div>
            
            <div id="mTags" style="margin-bottom:20px;"></div>
            
            <h4 style="color:#00796b; border-bottom:1px solid #e0e0e0; padding-bottom:5px; font-weight:700;">Contexte & Objectifs</h4>
            <p id="mDesc" style="color:#555; text-align:justify;"></p>

            <h4 style="color:#00796b; border-bottom:1px solid #e0e0e0; padding-bottom:5px; margin-top:25px; font-weight:700;">Démarche Technique</h4>
            <p id="mApproach" style="color:#555; text-align:justify;"></p>

            <h4 style="color:#00796b; border-bottom:1px solid #e0e0e0; padding-bottom:5px; margin-top:25px; font-weight:700;">Compétences Clés</h4>
            <p id="mSkills" style="color:#555;"></p>
        </div>
    </div>
</div>

<script>
    // --- DONNEES PROJETS ---
    const projects = [
        {
            title: "Enquête Batman & Population de Gotham",
            tags: ["Python", "SQL"],
            img: "images/p1.jpg",
            summary: "Croisement de données CSV et SQL pour identifier un individu spécifique.",
            description: "Projet divisé en deux parties : retrouver l'identité de Batman pour le chef de la police et analyser les caractéristiques démographiques pour le maire.",
            approach: "Agrégation de données CSV, création d'une base SQLite. Croisement d'indices pour filtrer les individus.",
            skills: "Manipulation de grands jeux de données, Logique SQL/Python.",
            place: "Université de Caen"
        },
        {
            title: "Automatisation de bulletins scolaires",
            tags: ["Python"],
            img: "images/p2.jpg",
            summary: "Script Python pour générer des bulletins scolaires.",
            description: "Création d'un système pour calculer les moyennes élèves/matières à partir de fichiers hétérogènes (txt, csv).",
            approach: "Nettoyage de données atypiques, conversion de types, algorithmique.",
            skills: "Nettoyage de données (Data Cleaning), Gestion d'erreurs.",
            place: "Université de Caen"
        },
        {
            title: "Analyse des locations Citibike NYC",
            tags: ["R"],
            img: "images/p3.jpg",
            summary: "Visualisation de la mobilité urbaine à New York.",
            description: "Étude complète des données de location de vélos (juin 2022) pour comprendre les habitudes des usagers.",
            approach: "Utilisation de RStudio pour filtrer, organiser et visualiser les données.",
            skills: "Programmation R, Analyse exploratoire.",
            place: "Université de Caen"
        },
        {
            title: "Régression : Indice de masse maigre",
            tags: ["R"],
            img: "images/p4.jpg",
            summary: "Modélisation statistique liant morphologie et masse maigre.",
            description: "Étude de la corrélation entre l'indice de masse maigre et des mesures morphologiques.",
            approach: "Nettoyage, Nuages de points, Régression linéaire simple.",
            skills: "Modélisation statistique, Analyse de corrélation.",
            place: "Université de Caen"
        },
        {
            title: "Datawarehouse Météo & Pollution",
            tags: ["Python", "SQL"],
            img: "images/p5.jpg",
            summary: "Pipeline ETL complet vers MySQL.",
            description: "Construction d'un entrepôt de données météo et pollution.",
            approach: "Scripts Python (Pandas) pour nettoyer. Insertion MySQL.",
            skills: "ETL, SQL, Python.",
            place: "Université de Caen"
        },
        {
            title: "Séries Temporelles : Hôtellerie",
            tags: ["R"],
            img: "images/p6.jpg",
            summary: "Prévision des nuitées hôtelières en Normandie.",
            description: "Analyse des données INSEE (2011-2023) pour comprendre la dynamique touristique.",
            approach: "Régression linéaire par morceaux, coefficients saisonniers, prévision à N+1.",
            skills: "Séries chronologiques, Prévision.",
            place: "Université de Caen"
        },
        {
            title: "Prédiction Poids des Manchots",
            tags: ["R"],
            img: "images/p7.jpg",
            summary: "Régression multiple pour prédire une variable biologique.",
            description: "Estimation du poids des manchots selon caractéristiques physiques.",
            approach: "Comparaison : ANOVA, ANCOVA, Régression multiple.",
            skills: "Statistiques inférentielles, Modèles.",
            place: "Université de Caen"
        },
        {
            title: "Storytelling Dow Jones",
            tags: ["PowerBI"],
            img: "images/p8.jpg",
            summary: "Narration visuelle interactive des crises boursières.",
            description: "Création d'un storytelling sur l'indice Dow Jones.",
            approach: "Utilisation des signets (bookmarks) PowerBI.",
            skills: "Dataviz, Storytelling.",
            place: "Université de Caen"
        },
        {
            title: "Épidémiologie : Cancer du Poumon",
            tags: ["SAS", "R"],
            img: "images/p9.jpg",
            summary: "Modèle de Cox sur la cohorte AGRICAN.",
            description: "Lien entre pratiques agricoles et cancer du poumon.",
            approach: "Traitement SAS, Tests R, Modèle de Cox.",
            skills: "Biostatistiques, SAS, R.",
            place: "Université de Caen"
        },
        {
            title: "NoSQL : Migration Olist",
            tags: ["Python", "NoSQL"],
            img: "images/p10.jpg",
            summary: "Migration e-commerce vers MongoDB.",
            description: "Passage d'un format CSV à une base NoSQL MongoDB.",
            approach: "Script Python pymongo, indexation.",
            skills: "NoSQL, MongoDB, Optimisation.",
            place: "Université de Caen"
        },
        {
            title: "NLP & Datamining : Avis Clients",
            tags: ["Python"],
            img: "images/p11.jpg",
            summary: "Analyse de sentiments (Deep Learning).",
            description: "Prédiction de la satisfaction client via NLP.",
            approach: "NLP, Clustering SVD, Deep Learning.",
            skills: "Machine Learning, NLP.",
            place: "Université de Caen"
        },
        {
            title: "Big Data Agricole",
            tags: ["R"],
            img: "images/p12.jpg",
            summary: "Modèles ML avancés sur données massives.",
            description: "Prédiction santé via ratios activités agricoles.",
            approach: "ACP, Bootstrap, Forêts Aléatoires, Réseaux de neurones.",
            skills: "Big Data, Machine Learning.",
            place: "Université de Caen"
        }
    ];

    let currentTag = 'all';

    function switchTab(tabId, btn, theme) {
        // Active Tab
        document.querySelectorAll('.section-content').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(tabId).classList.add('active');
        btn.classList.add('active');
        
        // Change la couleur de fond global en fonction du thème
        if(theme === 'port') document.body.style.backgroundColor = '#e0f2f1'; // Teal très clair
        if(theme === 'form') document.body.style.backgroundColor = '#e3f2fd'; // Bleu très clair
        if(theme === 'exp') document.body.style.backgroundColor = '#ffebee';  // Rouge très clair
    }

    function renderProjects(list) {
        const grid = document.getElementById('grid');
        grid.innerHTML = '';
        if(list.length === 0) { grid.innerHTML = '<p style="grid-column:1/-1;text-align:center;">Aucun projet trouvé.</p>'; return; }

        list.forEach(p => {
            const originalIndex = projects.indexOf(p);
            const tags = p.tags.map(t => `<span class="tag tag-${t}">${t}</span>`).join('');
            const card = document.createElement('div');
            card.className = 'card';
            card.onclick = () => openModal(originalIndex);
            card.innerHTML = `
                <div class="card-img-wrapper">
                    <img src="${p.img}" class="card-img" onerror="this.src='https://via.placeholder.com/400x200?text=${p.title.charAt(0)}'">
                </div>
                <div class="card-body">
                    <div class="tags-container">${tags}</div>
                    <h3 class="card-title">${p.title}</h3>
                    <p class="card-summary">${p.summary}</p>
                    <div class="card-footer">
                        <span>${p.place}</span>
                        <span class="view-btn">Détails →</span>
                    </div>
                </div>
            `;
            grid.appendChild(card);
        });
    }

    function filterProjects() {
        const query = document.getElementById('searchBar').value.toLowerCase();
        const res = projects.filter(p => {
            const tagMatch = currentTag === 'all' || p.tags.includes(currentTag);
            const textMatch = p.title.toLowerCase().includes(query) || p.description.toLowerCase().includes(query) || p.tags.join(' ').toLowerCase().includes(query);
            return tagMatch && textMatch;
        });
        renderProjects(res);
    }

    function setTagFilter(tag, btn) {
        currentTag = tag;
        document.querySelectorAll('.filter-tag').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        filterProjects();
    }

    const modal = document.getElementById('modalOverlay');
    function openModal(idx) {
        const p = projects[idx];
        document.getElementById('mTitle').innerText = p.title;
        let img = document.getElementById('mImg');
        img.src = p.img; img.onerror = function() { this.src=`https://via.placeholder.com/600x300?text=${p.title}`; };
        document.getElementById('mTags').innerHTML = p.tags.map(t=>`<span class="tag tag-${t}">${t}</span>`).join('');
        document.getElementById('mDesc').innerText = p.description;
        document.getElementById('mApproach').innerText = p.approach;
        document.getElementById('mSkills').innerText = p.skills;
        modal.classList.add('open');
        document.body.style.overflow = 'hidden';
    }
    function closeModal(e) {
        if(e.target===modal || e.target.classList.contains('modal-close')) {
            modal.classList.remove('open');
            document.body.style.overflow = 'auto';
        }
    }

    // Init
    renderProjects(projects);
</script>

</body>
</html>
